<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>WSL 1 をWSL 2 にアップデートしてdocker-composeを使ってGrowiを立ててみた（おまけつき） | aikazuyendo&#39;s memo</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" type="images/png" href="/mywiki/images/favicon.png">
    <meta name="description" content="個人的に気になったことを調査したりやってみた結果をメモしています">
    
    <link rel="preload" href="/mywiki/assets/css/0.styles.5a28db33.css" as="style"><link rel="preload" href="/mywiki/assets/js/app.0400b4b2.js" as="script"><link rel="preload" href="/mywiki/assets/js/2.b22c4900.js" as="script"><link rel="preload" href="/mywiki/assets/js/4.7ed782ea.js" as="script"><link rel="prefetch" href="/mywiki/assets/js/10.c497478c.js"><link rel="prefetch" href="/mywiki/assets/js/11.e1ccbf5d.js"><link rel="prefetch" href="/mywiki/assets/js/12.ce6b5024.js"><link rel="prefetch" href="/mywiki/assets/js/13.8dc25602.js"><link rel="prefetch" href="/mywiki/assets/js/3.31029049.js"><link rel="prefetch" href="/mywiki/assets/js/5.8ef0dc51.js"><link rel="prefetch" href="/mywiki/assets/js/6.59d687a7.js"><link rel="prefetch" href="/mywiki/assets/js/7.314a5b82.js"><link rel="prefetch" href="/mywiki/assets/js/8.2878b8bf.js"><link rel="prefetch" href="/mywiki/assets/js/9.8a17d12e.js">
    <link rel="stylesheet" href="/mywiki/assets/css/0.styles.5a28db33.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/mywiki/" class="home-link router-link-active"><!----> <span class="site-name">aikazuyendo's memo</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/mywiki/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/mywiki/about/" class="nav-link">
  About
</a></div><div class="nav-item"><a href="https://github.com/yoshikazuendo/mywiki" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/mywiki/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/mywiki/about/" class="nav-link">
  About
</a></div><div class="nav-item"><a href="https://github.com/yoshikazuendo/mywiki" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/mywiki/" aria-current="page" class="sidebar-link">Top Page</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>bookreview</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mywiki/bookreview/2022-02-09-01.html" class="sidebar-link">最強のポジティブチーム(ジョン・ゴードン)を読んで[書評]</a></li><li><a href="/mywiki/bookreview/2022-03-07-01.html" class="sidebar-link">LEAN IN 女性、仕事、リーダーへの意欲(シェリル・サンドバーグ)を読んで[書評]</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>jenkins</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mywiki/jenkins/jenkinstips.html" class="sidebar-link">Jenkins Tips</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>music</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mywiki/music/2019-11-29-01.html" class="sidebar-link">iPhoneで録画/録音したBGMをiPhoneやスマートウォッチで再生したい</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>wiki</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mywiki/wiki/mywiki.html" class="sidebar-link">2020年に向けて自分用ドキュメントツールを見直してみた</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>wsl</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mywiki/wsl/usewsltwo.html" aria-current="page" class="active sidebar-link">WSL 1 をWSL 2 にアップデートしてdocker-composeを使ってGrowiを立ててみた（おまけつき）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mywiki/wsl/usewsltwo.html#全体イメージ" class="sidebar-link">全体イメージ</a></li><li class="sidebar-sub-header"><a href="/mywiki/wsl/usewsltwo.html#使用する端末・ツール" class="sidebar-link">使用する端末・ツール</a></li><li class="sidebar-sub-header"><a href="/mywiki/wsl/usewsltwo.html#wsl-2-とは" class="sidebar-link">WSL 2 とは</a></li><li class="sidebar-sub-header"><a href="/mywiki/wsl/usewsltwo.html#手順" class="sidebar-link">手順</a></li><li class="sidebar-sub-header"><a href="/mywiki/wsl/usewsltwo.html#_4-wsl-のバージョンを確認する" class="sidebar-link">4. WSL のバージョンを確認する</a></li><li class="sidebar-sub-header"><a href="/mywiki/wsl/usewsltwo.html#_5-wsl-2-を既定のバージョンとして設定する" class="sidebar-link">5. WSL 2 を既定のバージョンとして設定する</a></li><li class="sidebar-sub-header"><a href="/mywiki/wsl/usewsltwo.html#_6-docker-desktop-をインストールする" class="sidebar-link">6. Docker Desktop をインストールする</a></li><li class="sidebar-sub-header"><a href="/mywiki/wsl/usewsltwo.html#_7-docker-composeでgrowiをインストール・立ち上げる" class="sidebar-link">7. docker-composeでGrowiをインストール・立ち上げる</a></li><li class="sidebar-sub-header"><a href="/mywiki/wsl/usewsltwo.html#参考サイト" class="sidebar-link">参考サイト</a></li><li class="sidebar-sub-header"><a href="/mywiki/wsl/usewsltwo.html#おまけ-jenkinsもwsl-2上に立ててみた" class="sidebar-link">おまけ：JenkinsもWSL 2上に立ててみた</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="wsl-1-をwsl-2-にアップデートしてdocker-composeを使ってgrowiを立ててみた-おまけつき-wsl-2-docker-compose-growi-jenkins"><a href="#wsl-1-をwsl-2-にアップデートしてdocker-composeを使ってgrowiを立ててみた-おまけつき-wsl-2-docker-compose-growi-jenkins" class="header-anchor">#</a> WSL 1 をWSL 2 にアップデートしてdocker-composeを使ってGrowiを立ててみた（おまけつき）[WSL 2][docker-compose][Growi][Jenkins]</h1> <p>以前AzureのVM上に<a href="http://fuzzynavel.centralus.cloudapp.azure.com:3000/" target="_blank" rel="noopener noreferrer">自前のCrowi<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>を立てる検証はやってみましたが、WSL 上でも同様の検証をしてみたいと考えていました。</p> <p>また、WSL 2 も使ってみたかったので、docker-composeを使ってGrowiを立ててみる検証をしてみることにしました。その時のメモを残しておきます。</p> <p>※無事立てられたとしても、自前のCrowiの移行は今の所考えてはないです…</p> <p></p><div class="table-of-contents"><ul><li><a href="#全体イメージ">全体イメージ</a></li><li><a href="#使用する端末・ツール">使用する端末・ツール</a></li><li><a href="#wsl-2-とは">WSL 2 とは</a></li><li><a href="#手順">手順</a><ul><li><a href="#_1-windowsバージョンを確認する">1. Windowsバージョンを確認する</a></li><li><a href="#_2-windowsバージョンをアップデートする">2. Windowsバージョンをアップデートする</a></li><li><a href="#_3-wsl-2-に更新する">3. WSL 2 に更新する</a><ul><li><a href="#_3-1-仮想マシンプラットフォームのオプションコンポーネントを有効にする">3.1. 仮想マシンプラットフォームのオプションコンポーネントを有効にする</a></li><li><a href="#_3-2-wsl-2-を既定のバージョンとして設定する">3.2. WSL 2 を既定のバージョンとして設定する</a></li><li><a href="#_3-2-1-「仮想マシン-プラットフォームの-windows-機能を有効にし、bios-で仮想化が有効になっていることを確認してください。」が表示される場合">3.2.1. 「仮想マシン プラットフォームの Windows 機能を有効にし、BIOS で仮想化が有効になっていることを確認してください。」が表示される場合</a></li><li><a href="#_3-2-2-「wsl-2-を実行するには、カーネルコンポーネントの更新が必要です。」が表示される場合">3.2.2. 「WSL 2 を実行するには、カーネルコンポーネントの更新が必要です。」が表示される場合</a></li></ul></li></ul></li><li><a href="#_4-wsl-のバージョンを確認する">4. WSL のバージョンを確認する</a></li><li><a href="#_5-wsl-2-を既定のバージョンとして設定する">5. WSL 2 を既定のバージョンとして設定する</a><ul><li><a href="#_5-1-wsl-2-によるメモリ枯渇問題の処置をする">5.1. WSL 2 によるメモリ枯渇問題の処置をする</a></li></ul></li><li><a href="#_6-docker-desktop-をインストールする">6. Docker Desktop をインストールする</a></li><li><a href="#_7-docker-composeでgrowiをインストール・立ち上げる">7. docker-composeでGrowiをインストール・立ち上げる</a></li><li><a href="#参考サイト">参考サイト</a></li><li><a href="#おまけ-jenkinsもwsl-2上に立ててみた">おまけ：JenkinsもWSL 2上に立ててみた</a></li></ul></div><p></p> <h2 id="全体イメージ"><a href="#全体イメージ" class="header-anchor">#</a> 全体イメージ</h2> <p>WSL 1 が入っているWindows 10 PC に WSL 2 を導入し、Docker DesktopからWSL2 2 に対してGrowi をdocer-compose するイメージです。</p> <p>※WSL 2 のUbuntu上にDockerを直接インストールするわけではありません。</p> <ol><li>Windowsバージョンを確認する</li> <li>Windowsバージョンをアップデートする</li> <li>WSL 2 に更新する</li> <li>WSL のバージョンを確認する</li> <li>WSL 2 を既定のバージョンとして設定する</li> <li>Docker Desktop をインストールする</li> <li>docker-composeでGrowiをインストール・立ち上げる</li></ol> <h2 id="使用する端末・ツール"><a href="#使用する端末・ツール" class="header-anchor">#</a> 使用する端末・ツール</h2> <ul><li>Windows 10 搭載のPC
<ul><li>※WSL 1 はインストール済みの状態</li></ul></li> <li>WSL 2</li> <li>Windows Docker Desktop</li></ul> <h2 id="wsl-2-とは"><a href="#wsl-2-とは" class="header-anchor">#</a> WSL 2 とは</h2> <p>MS Docsの<a href="https://docs.microsoft.com/ja-jp/windows/wsl/wsl2-index" target="_blank" rel="noopener noreferrer">WSL2の新機能<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>を参照。</p> <h2 id="手順"><a href="#手順" class="header-anchor">#</a> 手順</h2> <h3 id="_1-windowsバージョンを確認する"><a href="#_1-windowsバージョンを確認する" class="header-anchor">#</a> 1. Windowsバージョンを確認する</h3> <blockquote><p>WSL 2 は、Windows 10、バージョン 2004、ビルド 19041 以上でのみ使用できます。 Windows のバージョンを更新しなければならない場合があります。</p></blockquote> <p>Windows Updateで見ると、「最新の状態です」と表示されるが…</p> <p><img src="/mywiki/assets/img/20200726145927.264ea462.png" alt=""></p> <p><code>winver</code>で確認すると、バージョンが古いことがわかる。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p><img src="/mywiki/assets/img/20200726150609.cb9505a2.png" alt=""></p> <p>ということで手動でアップデートをする。</p> <h3 id="_2-windowsバージョンをアップデートする"><a href="#_2-windowsバージョンをアップデートする" class="header-anchor">#</a> 2. Windowsバージョンをアップデートする</h3> <p><a href="https://www.microsoft.com/ja-jp/software-download/windows10" target="_blank" rel="noopener noreferrer">Windows 10 のダウンロード<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>を開く。
<code>今すぐアップデート</code>をクリックしてインストーラーをダウンロードする。
インストーラーを起動し、<code>今すぐ更新</code>をクリック。</p> <p><img src="/mywiki/assets/img/20200726151400.bc1a99e4.png" alt=""></p> <p>結構時間がかかる。</p> <p><img src="/mywiki/assets/img/20200726151559.94377c83.png" alt=""></p> <p><img src="/mywiki/assets/img/20200726165105.d5cd23e2.png" alt=""></p> <p>PCを再起動する。</p> <p><img src="/mywiki/assets/img/20200726172709.39693a92.png" alt=""></p> <p>再起動すると、アップデートが完了。再度<code>winver</code>でバージョンを確認する。</p> <p><img src="/mywiki/assets/img/20200726173019.fcde7a16.png" alt=""></p> <h3 id="_3-wsl-2-に更新する"><a href="#_3-wsl-2-に更新する" class="header-anchor">#</a> 3. WSL 2 に更新する</h3> <p><a href="https://docs.microsoft.com/ja-jp/windows/wsl/install-win10#update-to-wsl-2" target="_blank" rel="noopener noreferrer">Windows 10 用 Windows Subsystem for Linux のインストール ガイド<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>を主に参照しながら作業をする。</p> <h4 id="_3-1-仮想マシンプラットフォームのオプションコンポーネントを有効にする"><a href="#_3-1-仮想マシンプラットフォームのオプションコンポーネントを有効にする" class="header-anchor">#</a> 3.1. 仮想マシンプラットフォームのオプションコンポーネントを有効にする</h4> <blockquote><p>WSL 2 をインストールする前に、&quot;仮想マシン プラットフォーム&quot; オプション機能を有効にする必要があります。
管理者として PowerShell を開き、以下を実行します。</p></blockquote> <p><code>dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart</code></p> <p><img src="/mywiki/assets/img/20200726173630.cc3e5b11.png" alt=""></p> <p>有効にしたらPCを再起動する。</p> <h4 id="_3-2-wsl-2-を既定のバージョンとして設定する"><a href="#_3-2-wsl-2-を既定のバージョンとして設定する" class="header-anchor">#</a> 3.2. WSL 2 を既定のバージョンとして設定する</h4> <blockquote><p>PowerShell で次のコマンドを実行して、新しい Linux ディストリビューションをインストールするときに WSL 2 を既定のバージョンとして設定します。</p></blockquote> <p><code>wsl --set-default-version 2</code></p> <p><strong>ただし、うまく行かない場合が多い模様。次の小章を確認する。</strong></p> <p><img src="/mywiki/assets/img/20200726202456.3681e853.png" alt=""></p> <h4 id="_3-2-1-「仮想マシン-プラットフォームの-windows-機能を有効にし、bios-で仮想化が有効になっていることを確認してください。」が表示される場合"><a href="#_3-2-1-「仮想マシン-プラットフォームの-windows-機能を有効にし、bios-で仮想化が有効になっていることを確認してください。」が表示される場合" class="header-anchor">#</a> 3.2.1. 「仮想マシン プラットフォームの Windows 機能を有効にし、BIOS で仮想化が有効になっていることを確認してください。」が表示される場合</h4> <p><a href="https://www.atmarkit.co.jp/ait/articles/1806/25/news026.html" target="_blank" rel="noopener noreferrer">Windows 10で仮想化プラットフォーム「Hyper-V」を有効にする<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>を元に、Hyper-Vを有効化することで解消される。管理者権限でPower Shellを起動し、以下のコマンドを実行する。</p> <p><code>Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Hyper-V -All</code></p> <p>実行したらPCを再起動する。再起動したら、再度検証をする。</p> <p>※参考：<a href="https://docs.microsoft.com/ja-jp/windows/wsl/troubleshooting" target="_blank" rel="noopener noreferrer">Windows Subsystem for Linux のトラブルシューティング<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="_3-2-2-「wsl-2-を実行するには、カーネルコンポーネントの更新が必要です。」が表示される場合"><a href="#_3-2-2-「wsl-2-を実行するには、カーネルコンポーネントの更新が必要です。」が表示される場合" class="header-anchor">#</a> 3.2.2. 「WSL 2 を実行するには、カーネルコンポーネントの更新が必要です。」が表示される場合</h4> <p><a href="https://docs.microsoft.com/ja-jp/windows/wsl/wsl2-kernel" target="_blank" rel="noopener noreferrer">WSL 2 Linux カーネルの更新<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
から、「最新の WSL2 Linux カーネル更新プログラム パッケージをダウンロード」をクリックし、インストーラーをダウンロードし、実行する。</p> <p>インストールが終わったら、再度検証する。</p> <h2 id="_4-wsl-のバージョンを確認する"><a href="#_4-wsl-のバージョンを確認する" class="header-anchor">#</a> 4. WSL のバージョンを確認する</h2> <p>Power Shell を管理者権限で起動し、以下のコマンドを実行する。</p> <p><code>wsl -l -v</code></p> <p><img src="data:image/png;base64,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" alt=""></p> <h2 id="_5-wsl-2-を既定のバージョンとして設定する"><a href="#_5-wsl-2-を既定のバージョンとして設定する" class="header-anchor">#</a> 5. WSL 2 を既定のバージョンとして設定する</h2> <p>Power Shell を管理者権限で起動し、以下のコマンドを実行する。</p> <p><code>wsl --set-default-version 2</code></p> <p><img src="data:image/png;base64,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" alt=""></p> <p>※この状態でMicrosoft Storeから新しいUbuntuをインストールすると下図の通りVersionが2で入る。</p> <p><img src="data:image/png;base64,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" alt=""></p> <h3 id="_5-1-wsl-2-によるメモリ枯渇問題の処置をする"><a href="#_5-1-wsl-2-によるメモリ枯渇問題の処置をする" class="header-anchor">#</a> 5.1. WSL 2 によるメモリ枯渇問題の処置をする</h3> <p><a href="https://qiita.com/yoichiwo7/items/e3e13b6fe2f32c4c6120" target="_blank" rel="noopener noreferrer">WSL2によるホストのメモリ枯渇を防ぐための暫定対処<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>にある通り、<code>C:\Users\(ユーザー名)\.swlconfig</code>ファイルに以下を記述し、<code>Vmmem</code>というプロセスにメモリが使われすぎないように処置を行う。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>wsl2<span class="token punctuation">]</span>
<span class="token assign-left variable">memory</span><span class="token operator">=</span>2GB
<span class="token assign-left variable">swap</span><span class="token operator">=</span><span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_6-docker-desktop-をインストールする"><a href="#_6-docker-desktop-をインストールする" class="header-anchor">#</a> 6. Docker Desktop をインストールする</h2> <p><a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noopener noreferrer">公式サイト<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>よりダウンロードし、インストールをする。</p> <p>インストーラーウィザードのConfigurationにて、<code>Enable WSL 2 Windows Features</code>のチェック項目が表示されるので、チェックONのままにする。</p> <p>インストールが完了したら、Docker Desktopを起動し、<code>Setting</code>画面を開く。</p> <p>General - <code>Use the WSL 2 based engine</code> がチェックONになっていることを確認する。</p> <p>※WSL 2 を導入しているPCにインストールすると、デフォルトでチェックONらしい。（<a href="http://docs.docker.jp/docker-for-windows/wsl.html" target="_blank" rel="noopener noreferrer">Docker Desktop WSL 2 バックエンド<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）</p> <p><img src="/mywiki/assets/img/20200727210853.6e95cc04.png" alt=""></p> <p>Resources - WSL INTEGRATION - <code>Enable integration with my default WSL distro</code> がチェックONになっていることを確認する。</p> <p><img src="/mywiki/assets/img/20200727210957.38715791.png" alt=""></p> <p>以上でDocker Desktopのインストールは完了。</p> <p><strong>ここまで実施すると、WSL 2 上でDocker 及び docker-composeが可能となる。</strong></p> <h2 id="_7-docker-composeでgrowiをインストール・立ち上げる"><a href="#_7-docker-composeでgrowiをインストール・立ち上げる" class="header-anchor">#</a> 7. docker-composeでGrowiをインストール・立ち上げる</h2> <p><strong>WSL 2 上のUbuntuで</strong>作業を行う。</p> <p>Growiのdocker-composeをcloneする。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">git</span> clone https://github.com/weseek/growi-docker-compose.git growi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>既定のymlファイルだと、Growi上でローカルのファイルシステムに対する画像ファイルなどのファイルのアップロードができないため、以下のファイルを編集する。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> growi
$ <span class="token function">vi</span> docker-compose.yml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>docker-compose.yml</code>の以下を変更し保存する（コメントを外してあげればOK）。</p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token comment"># 変更前</span>
<span class="token comment"># - FILE_UPLOAD=local     # activate this line if you use local storage of server rather than AWS</span>

<span class="token comment"># 変更後</span>
<span class="token punctuation">-</span> FILE_UPLOAD=local     <span class="token comment"># activate this line if you use local storage of server rather than AWS</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>最後にコンテナを起動する。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker-compose</span> up -d
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>しばらく時間が経ったあとに、<code>docker ps</code>で以下のコンテナが立ち上がっているのが確認できればOK。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> <span class="token function">ps</span>
CONTAINER ID        IMAGE                 COMMAND                  CREATED             STATUS              PORTS                      NAMES
c53c994b44ab        growi_app             <span class="token string">&quot;/sbin/tini -e 143 -…&quot;</span>   <span class="token number">10</span> hours ago        Up <span class="token number">10</span> hours         <span class="token number">127.0</span>.0.1:3000-<span class="token operator">&gt;</span><span class="token number">3000</span>/tcp   growi_app_1
f6ebe0fa6158        mongo:3.6             <span class="token string">&quot;docker-entrypoint.s…&quot;</span>   <span class="token number">10</span> hours ago        Up <span class="token number">10</span> hours         <span class="token number">27017</span>/tcp                  growi_mongo_1
66089c8fbfa4        growi_elasticsearch   <span class="token string">&quot;/usr/local/bin/dock…&quot;</span>   <span class="token number">10</span> hours ago        Up <span class="token number">10</span> hours         <span class="token number">9200</span>/tcp, <span class="token number">9300</span>/tcp         growi_elasticsearch_1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ブラウザでport:3000にアクセスし、Growiのトップ画面が出てくれば構築完了！</p> <p><img src="/mywiki/assets/img/20200727220412.f102b7a5.png" alt=""></p> <p>Docker DesktopのDashboardでも、growiのコンテナが表示され、RUNNINGになっていることが確認できる。</p> <p><img src="/mywiki/assets/img/20200727220706.51dc8ad8.png" alt=""></p> <p>※Docker for Windowsを使っていた時だと仮想マシンが立ち上がっていたが、今回はDockerを立ち上げても、「Hyper-V」上では仮想マシンは起動していないことがわかる。よって、WSL 2 だけでDockerが動いていると言える。</p> <p>※※厳密には、「Utility VM」という分離環境が呼ばれ、コンテナが実行されるらしい。(<a href="https://www.atmarkit.co.jp/ait/articles/1710/24/news010_2.html" target="_blank" rel="noopener noreferrer">図解で理解できる（はず）Microsoftの仮想化技術――Windows上で稼働するLinux、動かしているのはどのテクノロジー？（その2） (2/2)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</p> <h2 id="参考サイト"><a href="#参考サイト" class="header-anchor">#</a> 参考サイト</h2> <ul><li>以下の記事はかなり参考になりました。
<ul><li><a href="https://qiita.com/tomokei5634/items/27504849bb4353d8fef8" target="_blank" rel="noopener noreferrer">WSL2導入｜WinアップデートからWSL2を既定にするまでのスクショ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.engineer-memo.net/20200310-5516" target="_blank" rel="noopener noreferrer">Docker Desktop を WSL2 で使う (Windows 10)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://corgi-lab.com/linux/docker-growi-wiki/" target="_blank" rel="noopener noreferrer">Docker + Growiでイントラ向けWikiを立ち上げる<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><a href="https://docs.growi.org/ja/admin-guide/getting-started/docker-compose.html" target="_blank" rel="noopener noreferrer">GROWI Docs docker-compose<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>※WSL 1 の時はdocker-composeを使おうとするとすんなりとはいかない模様。
<ul><li><a href="https://qrunch.net/@8ULd2sdFipvReKyP/entries/pwQ5BEywH9kHtrCA" target="_blank" rel="noopener noreferrer">WSLからdocker-composeでGrowiをたてようとしたらvolumesでつまづいた話<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://blog.mahoroi.com/posts/2019/04/growi-wsl-docker-for-windows/" target="_blank" rel="noopener noreferrer">WSLとDocker for WindowsでGROWIを動かすとvolumesでつまずく<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><a href="https://qiita.com/suin/items/19d65e191b96a0079417" target="_blank" rel="noopener noreferrer">《滅びの呪文》Docker Composeで作ったコンテナ、イメージ、ボリューム、ネットワークを一括完全消去する便利コマンド<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li><code>docker-compose down --rmi all --volumes</code></li></ul></li> <li>WSL関連
<ul><li><a href="https://xtech.nikkei.com/atcl/nxt/column/18/01290/052000005/" target="_blank" rel="noopener noreferrer">WSL新版でLinuxをさらに使いやすく、Windows 10 May 2020 Update<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li>WSL 2では以下の通りらしいのでdocker-composeもすんなり使えそう。</li> <li><blockquote><p>すべてのシステムコールとの互換性が確保された。このため、LinuxディストリビューションがサポートしているDocker（OS上で区切られたアプリケーション動作環境である「コンテナ」を実現するソフトウエア）を通常通り起動できる。WSL 1には互換性がないシステムコールもあり、特定バージョンのDockerのみ起動可能だった。</p></blockquote></li></ul></li> <li><a href="https://ascii.jp/elem/000/001/981/1981180/" target="_blank" rel="noopener noreferrer">Windows Subsystem for Linux 2のメモリ管理を詳しく見る<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul> <h2 id="おまけ-jenkinsもwsl-2上に立ててみた"><a href="#おまけ-jenkinsもwsl-2上に立ててみた" class="header-anchor">#</a> おまけ：JenkinsもWSL 2上に立ててみた</h2> <p>よく利用しているJenkinsもWSL 2 上に立ててみます。これはまた骨が折れるかな…と覚悟していましたが、前述した作業でWSL 2が入っておりかつDockerが使える状態であればさくっとできました。</p> <p>※こちら（
<a href="https://dev.to/andresfmoya/install-jenkins-using-docker-compose-4cab" target="_blank" rel="noopener noreferrer">Install Jenkins using Docker Compose<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）のサイトを参考にさせてもらいました。</p> <p>docker-compose用のyamlファイルを作成する。</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.7'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">jenkins</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> jenkins/jenkins<span class="token punctuation">:</span>lts
    <span class="token key atrule">privileged</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">user</span><span class="token punctuation">:</span> root
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 8081<span class="token punctuation">:</span><span class="token number">8080</span>
      <span class="token punctuation">-</span> 50000<span class="token punctuation">:</span><span class="token number">50000</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> jenkins
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ~/jenkins<span class="token punctuation">:</span>/var/jenkins_home
      <span class="token punctuation">-</span> /var/run/docker.sock<span class="token punctuation">:</span>/var/run/docker.sock
      <span class="token punctuation">-</span> /usr/local/bin/docker<span class="token punctuation">:</span>/usr/local/bin/docker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>作ったyamlファイルは、適当ななディレクトリ（<code>/home/(UserName)/jenkins-config</code>とか）に格納しておきましょう。</p> <p>また、Jenkinsのデータを格納するためのディレクトリも切っておきます（<code>/home/(UserName)/jenkins</code>）。</p> <p>これで準備が整うので、<code>docker-compose</code>しちゃいましょう。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> jenkins-config
$ <span class="token function">docker-compose</span> up -d
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>これでJenkinsが立ち上がるので、<code>localhost/8081</code>にアクセスして確認してみます。</p> <p>初めてのログインページが表示されると思うので、以下で管理者パスワードを取得して、ログインを行います。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> <span class="token builtin class-name">exec</span> jenkins <span class="token function">cat</span> /var/jenkins_home/secrets/initialAdminPassword
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>あとは、Jenkinsのページに沿って初期設定を済ませると、晴れてトップページが表示されます！WSL 2もdocker-composeも便利だね！</p> <p><img src="/mywiki/assets/img/20200809013810.e7078df4.png" alt=""></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/mywiki/wiki/mywiki.html" class="prev">
        2020年に向けて自分用ドキュメントツールを見直してみた
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/mywiki/assets/js/app.0400b4b2.js" defer></script><script src="/mywiki/assets/js/2.b22c4900.js" defer></script><script src="/mywiki/assets/js/4.7ed782ea.js" defer></script>
  </body>
</html>
